<section id="tailgating-cities">
<!-- Datawrapper-style table (black header + gold stripes) -->
<div id="dw-lottery-4" data-dw="table"
     style="--logo-h:34px;
            --stripe:#F2C23A;              /* gold zebra */
            --hover:#F7DB7A;               /* gold hover */
            --header-bg:#000000;           /* black header */
            --header-fg:#ffffff;
            --scroll-track:#f7f8fb; 
            --scroll-thumb:#000000; 
            --scroll-thumb-hover:#333333;
            --gutter: clamp(8px, 4vw, 14px);
            --gutter-left: var(--gutter);
            --gutter-right: var(--gutter); 
            --edge-pad: 14px;
            --table-max-h: 500px;
            --vbar-w: 6px; --vbar-w-hover: 8px;">
  <style>
  /* ===== Datawrapper-style table (black + gold theme) ===== */
  #dw-lottery-4{
    /* Brand palette (gold + black) */
    --brand-50:#FFF7DC; 
    --brand-100:#FFE8AA;
    --brand-500:#F2C23A; 
    --brand-600:#D9A72A; 
    --brand-700:#B9851A; 
    --brand-900:#111111;

    --bg:#ffffff; --text:#1f2937;
    box-sizing:border-box; overflow-x:hidden; display:block; max-width:100%;
    padding-left:var(--gutter-left,var(--gutter));
    padding-right:var(--gutter-right,var(--gutter));
  }

  /* Controls layout */
  #dw-lottery-4 .dw-controls{
    display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
    gap:12px; margin:2px 0 10px 0;
  }
  #dw-lottery-4 .left{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-start}
  #dw-lottery-4 .center{justify-self:center; display:flex; align-items:center}
  #dw-lottery-4 .right{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end}

  #dw-lottery-4 .dw-field{position:relative}
  #dw-lottery-4 .dw-input,#dw-lottery-4 .dw-select,#dw-lottery-4 .dw-btn{
    font:14px/1.2 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; border-radius:10px; padding:8px 10px; transition:.15s ease;
  }
  #dw-lottery-4 .dw-input,#dw-lottery-4 .dw-select{
    background:#fff;
    border:1px solid var(--brand-900);         /* black border */
    color:var(--text); box-shadow:inset 0 1px 2px rgba(16,24,40,.04);
  }
  #dw-lottery-4 .dw-input{width:min(320px,100%); padding-right:36px}
  #dw-lottery-4 .dw-input::placeholder{color:#9AA4B2}
  #dw-lottery-4 .dw-input:focus,#dw-lottery-4 .dw-select:focus{
    outline:none; border-color:var(--brand-900);
    box-shadow:0 0 0 3px color-mix(in oklab,var(--brand-900) 25%,transparent); background:#fff;
  }
  #dw-lottery-4 .dw-select{
    appearance:none; padding-right:34px;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23111111' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat:no-repeat; background-position:right 10px center; background-size:14px;
  }
  #dw-lottery-4 .dw-btn{background:var(--brand-900); color:#fff; border:1px solid var(--brand-900); padding-inline:12px; cursor:pointer}
  #dw-lottery-4 .dw-btn:hover{background:#222; border-color:#222} 
  #dw-lottery-4 .dw-btn:active{transform:translateY(1px)}
  #dw-lottery-4 .dw-btn[disabled]{background:#fafafa; border-color:#d1d5db; color:#6b7280; opacity:1; cursor:not-allowed; transform:none}
  #dw-lottery-4 .dw-status{font:12px/1.2 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; color:#6b7280}
  #dw-lottery-4 .dw-counter{display:none !important;}

  /* Clear button */
  #dw-lottery-4 .dw-clear{
    position:absolute; right:10px; top:50%; translate:0 -50%; width:22px; height:22px; border-radius:9999px; border:0;
    background:transparent; color:var(--brand-900); cursor:pointer; display:none; align-items:center; justify-content:center;
  }
  #dw-lottery-4 .dw-field.has-value .dw-clear{display:flex}
  #dw-lottery-4 .dw-clear:hover{background:var(--brand-50)}

  /* ===== Top-center logo (kept; fills with header colour if you want) ===== */
  #dw-lottery-4 .dw-top-brand{display:none; align-items:center}
  #dw-lottery-4 .dw-top-logo{
    display:block;
    width:200px; height:24px;
    background:var(--header-bg);               /* set to black to match header */
    -webkit-mask: var(--logo-url) no-repeat center / contain;
            mask: var(--logo-url) no-repeat center / contain;
  }

  /* Card & table */
 /* Card & table */
#dw-lottery-4 .dw-card {
  background: var(--bg);
  border: 0;
  box-shadow: none;
  overflow: hidden;
  margin: 0;
  width: 100%;
}

/* Default scroll for wide tables */
#dw-lottery-4 .dw-scroll {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Disable horizontal scroll if 4 or fewer columns */
#dw-lottery-4 .dw-scroll.no-scroll {
  overflow-x: hidden !important;
}
#dw-lottery-4 table.dw-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font: 14px/1.45 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--text);
  font-variant-numeric: tabular-nums;
  background: transparent;

  /* ✅ Allow natural column sizing + horizontal scroll */
  min-width: 1200px;
  table-layout: auto;
}


  /* Header */
  #dw-lottery-4 thead th{
    background:var(--header-bg); color:var(--header-fg,#fff); font-weight:700; text-align:center;
    padding:12px 14px; white-space:nowrap; vertical-align:middle; border:0;
    transition:background-color .15s, color .15s, box-shadow .15s, transform .05s;
  }
  #dw-lottery-4 thead th.sortable{cursor:pointer; user-select:none}
  #dw-lottery-4 thead th.sortable::after{content:"↕"; font-size:12px; opacity:.75; margin-left:8px; color:var(--header-fg,#fff)}
  #dw-lottery-4 thead th.sortable[data-sort="asc"]::after{content:"▲"}
  #dw-lottery-4 thead th.sortable[data-sort="desc"]::after{content:"▼"}
  #dw-lottery-4 thead th.sortable:hover,#dw-lottery-4 thead th.sortable:focus-visible{background:#222; color:#fff; box-shadow:inset 0 -3px 0 var(--brand-500)}
  #dw-lottery-4 .dw-scroll.scrolled thead th{box-shadow:0 6px 10px -6px rgba(0,0,0,.25)}
  #dw-lottery-4 .dw-scroll.scrolled thead th.sortable:hover,#dw-lottery-4 .dw-scroll.scrolled thead th.sortable:focus-visible{box-shadow:inset 0 -3px 0 var(--brand-500),0 6px 10px -6px rgba(0,0,0,.25)}
  #dw-lottery-4 thead th.is-sorted{background:#1a1a1a; color:#fff; box-shadow:inset 0 -3px 0 var(--brand-500)}

/* Allow text wrapping only for the State column, keep headers tidy */
#dw-lottery-4 thead th,
#dw-lottery-4 tbody td {
  padding: 12px 10px;
  overflow: hidden;
}

/* Keep headers on one line */
#dw-lottery-4 thead th {
  white-space: nowrap;
}

/* ✅ Only wrap multi-word states over 2–3 lines */
#dw-lottery-4 tbody td:nth-child(2) {
  white-space: normal;          
  word-break: keep-all;         
  overflow-wrap: break-word;
  min-width: 100px;
  max-width: 220px;            
  line-height: 1.3;
}

/* Prevent Chrome re-paint duplication bug */
#dw-lottery-4 tbody td {
  background-clip: padding-box;
  backface-visibility: hidden;
  transform: translateZ(0);
}

  /* Body */
  #dw-lottery-4 tbody td{ text-align:center; vertical-align:middle; background:transparent!important; border:0; transition:background-color .12s }
  #dw-lottery-4 thead th:last-child,#dw-lottery-4 tbody td:last-child{padding-right:14px}
  #dw-lottery-4 tbody tr:nth-child(odd){background:var(--stripe,#F2C23A)}  /* gold stripes */
  #dw-lottery-4 tbody tr:hover{background:var(--hover,#F7DB7A); box-shadow:inset 3px 0 0 var(--brand-900)}
  #dw-lottery-4 thead th{position:sticky; top:var(--sticky-top,0); z-index:5}

  /* Scrollbar + height */
  #dw-lottery-4 .dw-scroll{max-height:var(--table-max-h,360px); overflow-y:auto; -ms-overflow-style:auto; scrollbar-width:thin; scrollbar-color:var(--scroll-thumb) transparent}
  #dw-lottery-4 .dw-scroll::-webkit-scrollbar:horizontal{height:0; display:none}
  #dw-lottery-4 .dw-scroll::-webkit-scrollbar:vertical{width:var(--vbar-w)}
  #dw-lottery-4 .dw-scroll:hover::-webkit-scrollbar:vertical{width:var(--vbar-w-hover)}
  #dw-lottery-4 .dw-scroll::-webkit-scrollbar-thumb{background:var(--scroll-thumb); border-radius:9999px; border:2px solid transparent; background-clip:content-box}

  /* Dynamic zebra */
  #dw-lottery-4 tbody tr{background:transparent!important}
  #dw-lottery-4 tbody tr.dw-zebra{background:var(--stripe,#F2C23A)!important}
  #dw-lottery-4 tbody td.is-sorted{background:var(--hover,#F7DB7A)!important; font-weight:600}

  /* Empty-state row */
  #dw-lottery-4 tr.dw-empty td{text-align:center; color:#6b7280; font-style:italic; padding:18px 14px; background:linear-gradient(0deg,#fff,var(--brand-50))}

  /* Footer (brand name left; optional) */
  #dw-lottery-4 .dw-footer{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    padding:10px 0; margin-top:10px; color:#6b7280;
    font:12px/1.25 system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    box-shadow:0 -1px 0 0 color-mix(in oklab,var(--brand-900) 35%, transparent);
  }
  #dw-lottery-4 .dw-brand-left{
    display:none; color:inherit; text-decoration:none; font-weight:600;
    border-bottom:1px dashed transparent; transition:color .15s, border-color .15s;
  }
  #dw-lottery-4 .dw-brand-left:is(:hover,:focus-visible){color:var(--brand-700); border-color:var(--brand-700); outline:none}

  /* === Mobile one-line controls (keep logo visible) === */
  @media (max-width: 600px){
    #dw-lottery-4 .dw-controls{
      display:grid;
      grid-template-columns:minmax(0,1fr) auto auto;
      align-items:center; column-gap:8px; row-gap:0; margin:6px 0 8px;
    }
    #dw-lottery-4 .left, #dw-lottery-4 .center, #dw-lottery-4 .right{min-width:0;}
    #dw-lottery-4 .dw-field{width:100%; max-width:46vw;}
    #dw-lottery-4 .dw-input{width:100%; padding:6px 24px 6px 10px; height:34px; font-size:13px;}
    #dw-lottery-4 .dw-clear{width:20px; height:20px;}
    #dw-lottery-4 thead th{ font-size:13px; line-height:1.2; } /* tighter header on small screens */
    #dw-lottery-4 .dw-top-logo{height:22px; width:120px;}
    #dw-lottery-4 .right{justify-content:flex-end; gap:6px;}
    #dw-lottery-4 .right .dw-status{display:none;}
    #dw-lottery-4 .dw-select{min-width:68px; height:32px; padding:6px 22px 6px 8px; font-size:13px;}
    #dw-lottery-4 .dw-btn{width:32px; height:32px; padding:0; border-radius:12px; display:inline-flex; align-items:center; justify-content:center;}
  }
  </style>

  <!-- Controls -->
  <div class="dw-controls">
    <div class="left">
      <div class="dw-field">
        <input type="search" class="dw-input" placeholder="Search table…" aria-label="Search table">
        <button type="button" class="dw-clear" aria-label="Clear search">×</button>
      </div>
      <span class="dw-status dw-counter" aria-live="polite"></span>
    </div>

    <!-- Center: NOT clickable logo -->
    <div class="center">
      <div class="dw-top-brand" aria-label="Brand">
        <div class="dw-top-logo" aria-hidden="true"></div>
      </div>
    </div>

    <div class="right">
      <label class="dw-status" for="dw-size" style="margin-right:4px;">Rows/page</label>
      <select id="dw-size" class="dw-select">
        <option value="10" selected>10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="0">All</option>
      </select>
      <button class="dw-btn" data-page="prev" aria-label="Previous page">‹</button>
      <button class="dw-btn" data-page="next" aria-label="Next page">›</button>
    </div>
  </div>

 <div class="dw-card">
    <div class="dw-scroll">
      <table class="dw-table">
        <thead>
          <tr>
            <th scope="col" data-type="num">Rank</th>
            <th scope="col" data-type="text">Team</th>
            <th scope="col" data-type="text">Stadium</th>
            <th scope="col" data-type="num">Tailgating Score (/100)</th>
            <th scope="col" data-type="num">Beer ($ per 6-pack)</th>
            <th scope="col" data-type="num">BBQ Fuel Cost ($/bag)</th>
            <th scope="col" data-type="num">Meat Price ($/lb)</th>
            <th scope="col" data-type="num">Game-Day Parking ($)</th>
            <th scope="col" data-type="num">Stadium Parking Spaces (Est.)</th>
            <th scope="col" data-type="num">Fan Sentiment (Positive %)</th>
            <th scope="col" data-type="num">Fan Interest (Monthly Searches)</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td>Dallas Cowboys</td><td>AT&T Stadium</td><td>76.54</td><td>5.43</td><td>13.86</td><td>4.36</td><td>48.39</td><td>9091</td><td>65.56</td><td>3140</td></tr>
          <tr><td>2</td><td>Buffalo Bills</td><td>Highmark Stadium</td><td>63.77</td><td>4.18</td><td>16.32</td><td>4.38</td><td>56.28</td><td>6952</td><td>67.14</td><td>2630</td></tr>
          <tr><td>3</td><td>Denver Broncos</td><td>Empower Field at Mile High</td><td>61.78</td><td>4.87</td><td>10.45</td><td>4.62</td><td>30.21</td><td>7391</td><td>80.77</td><td>1480</td></tr>
          <tr><td>4</td><td>Kansas City Chiefs</td><td>GEHA Field at Arrowhead Stadium</td><td>60.54</td><td>4.63</td><td>9.36</td><td>4.75</td><td>32.04</td><td>7419</td><td>69.63</td><td>2030</td></tr>
          <tr><td>5</td><td>Atlanta Falcons</td><td>Mercedes‑Benz Stadium</td><td>58.69</td><td>5.06</td><td>14.56</td><td>4.36</td><td>29.95</td><td>6893</td><td>82.76</td><td>990</td></tr>
          <tr><td>6</td><td>New York Jets</td><td>MetLife Stadium</td><td>58.66</td><td>5.21</td><td>17.31</td><td>4.38</td><td>55.2</td><td>9375</td><td>69.28</td><td>650</td></tr>
          <tr><td>7</td><td>Green Bay Packers</td><td>Lambeau Field</td><td>58.64</td><td>4.91</td><td>8.7</td><td>4.75</td><td>51.64</td><td>7907</td><td>77.86</td><td>1580</td></tr>
          <tr><td>8</td><td>New York Giants</td><td>MetLife Stadium</td><td>51.13</td><td>5.21</td><td>17.31</td><td>4.38</td><td>55.2</td><td>9375</td><td>43.75</td><td>800</td></tr>
          <tr><td>9</td><td>San Francisco 49ers</td><td>Levi’s Stadium</td><td>48.89</td><td>4.83</td><td>11.83</td><td>4.62</td><td>61.06</td><td>7784</td><td>51.77</td><td>1570</td></tr>
          <tr><td>10</td><td>New Orleans Saints</td><td>Caesars Superdome</td><td>48.7</td><td>5.4</td><td>11.83</td><td>4.36</td><td>31.62</td><td>7108</td><td>58.75</td><td>550</td></tr>
          <tr><td>11</td><td>Carolina Panthers</td><td>Bank of America Stadium</td><td>46.6</td><td>4.33</td><td>15.71</td><td>4.36</td><td>30.1</td><td>7269</td><td>44.57</td><td>370</td></tr>
          <tr><td>12</td><td>Baltimore Ravens</td><td>M&T Bank Stadium</td><td>46.6</td><td>5.51</td><td>16.67</td><td>4.36</td><td>52.09</td><td>6868</td><td>70.19</td><td>990</td></tr>
          <tr><td>13</td><td>Philadelphia Eagles</td><td>Lincoln Financial Field</td><td>45.44</td><td>5.8</td><td>13.67</td><td>4.38</td><td>49.5</td><td>6757</td><td>48.61</td><td>1850</td></tr>
          <tr><td>14</td><td>Arizona Cardinals</td><td>State Farm Stadium</td><td>44.85</td><td>4.37</td><td>11.83</td><td>4.62</td><td>19.9</td><td>7205</td><td>40.0</td><td>710</td></tr>
          <tr><td>15</td><td>Indianapolis Colts</td><td>Lucas Oil Stadium</td><td>43.51</td><td>4.55</td><td>10.6</td><td>4.75</td><td>25.0</td><td>6505</td><td>61.45</td><td>680</td></tr>
          <tr><td>16</td><td>Houston Texans</td><td>NRG Stadium</td><td>42.03</td><td>5.43</td><td>13.86</td><td>4.36</td><td>47.0</td><td>7012</td><td>32.0</td><td>1560</td></tr>
          <tr><td>17</td><td>Pittsburgh Steelers</td><td>Acrisure Stadium</td><td>41.47</td><td>5.8</td><td>13.67</td><td>4.38</td><td>46.15</td><td>6641</td><td>49.84</td><td>1250</td></tr>
          <tr><td>18</td><td>New England Patriots</td><td>Gillette Stadium</td><td>40.71</td><td>4.91</td><td>16.46</td><td>4.38</td><td>35.66</td><td>7344</td><td>33.85</td><td>700</td></tr>
          <tr><td>19</td><td>Chicago Bears</td><td>Soldier Field</td><td>39.59</td><td>4.11</td><td>8.23</td><td>4.75</td><td>34.75</td><td>5971</td><td>36.32</td><td>1420</td></tr>
          <tr><td>20</td><td>Tampa Bay Buccaneers</td><td>Raymond James Stadium</td><td>38.81</td><td>4.65</td><td>21.68</td><td>4.36</td><td>41.06</td><td>6720</td><td>52.88</td><td>460</td></tr>
          <tr><td>21</td><td>Jacksonville Jaguars</td><td>EverBank Stadium</td><td>38.36</td><td>4.65</td><td>21.68</td><td>4.36</td><td>30.84</td><td>6584</td><td>51.03</td><td>350</td></tr>
          <tr><td>22</td><td>Miami Dolphins</td><td>Hard Rock Stadium</td><td>38.11</td><td>4.65</td><td>21.68</td><td>4.36</td><td>30.64</td><td>7360</td><td>32.22</td><td>560</td></tr>
          <tr><td>23</td><td>Minnesota Vikings</td><td>U.S. Bank Stadium</td><td>38.11</td><td>4.85</td><td>8.7</td><td>4.75</td><td>30.39</td><td>6471</td><td>45.0</td><td>880</td></tr>
          <tr><td>24</td><td>Detroit Lions</td><td>Ford Field</td><td>35.23</td><td>4.33</td><td>10.47</td><td>4.75</td><td>24.88</td><td>6311</td><td>23.33</td><td>1300</td></tr>
          <tr><td>25</td><td>Cincinnati Bengals</td><td>Paycor Stadium</td><td>35.02</td><td>5.13</td><td>12.24</td><td>4.75</td><td>29.95</td><td>6361</td><td>54.38</td><td>660</td></tr>
          <tr><td>26</td><td>Seattle Seahawks</td><td>Lumen Field</td><td>34.44</td><td>5.57</td><td>11.83</td><td>4.62</td><td>30.25</td><td>6674</td><td>45.52</td><td>560</td></tr>
          <tr><td>27</td><td>Los Angeles Rams</td><td>SoFi Stadium</td><td>33.81</td><td>4.83</td><td>11.83</td><td>4.62</td><td>78.45</td><td>6819</td><td>37.72</td><td>1330</td></tr>
          <tr><td>28</td><td>Washington Commanders</td><td>Northwest Stadium</td><td>32.72</td><td>5.51</td><td>11.83</td><td>4.36</td><td>60.96</td><td>6214</td><td>42.0</td><td>620</td></tr>
          <tr><td>29</td><td>Tennessee Titans</td><td>Nissan Stadium</td><td>31.98</td><td>6.01</td><td>14.27</td><td>4.36</td><td>30.0</td><td>6713</td><td>34.73</td><td>330</td></tr>
          <tr><td>30</td><td>Las Vegas Raiders</td><td>Allegiant Stadium</td><td>31.64</td><td>5.66</td><td>11.83</td><td>4.62</td><td>35.9</td><td>6311</td><td>47.59</td><td>570</td></tr>
          <tr><td>31</td><td>Cleveland Browns</td><td>Huntington Bank Field</td><td>31.3</td><td>5.13</td><td>12.24</td><td>4.75</td><td>35.17</td><td>6547</td><td>36.37</td><td>960</td></tr>
          <tr><td>32</td><td>Los Angeles Chargers</td><td>SoFi Stadium</td><td>25.06</td><td>4.83</td><td>11.83</td><td>4.62</td><td>78.45</td><td>6819</td><td>25.26</td><td>690</td></tr>
          <tr class="dw-empty" style="display:none;"><td colspan="11">No matches found.</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Optional footer brand name (left) -->
  <div class="dw-footer" role="contentinfo">
    <a class="dw-brand-left" href="#" aria-label="Brand name"></a>
    <span></span>
  </div>

  <script>
  (function(){
    if(!window.DWTableInit){
      window.DWTableInit = function init(root){
        if(!root || root.dataset.dwInit==='1') return;
        root.dataset.dwInit='1';

        const table = root.querySelector('table.dw-table');
        const tb = table ? table.tBodies[0] : null;
        const scroller = root.querySelector('.dw-scroll');
// Disable horizontal scrolling if the table has 4 or fewer columns
if (table.tHead && table.tHead.rows[0].cells.length <= 4) {
  scroller.classList.add('no-scroll');
}
        const controls = root.querySelector('.dw-controls');
        if(!table || !tb || !scroller || !controls) return;

        const field = controls.querySelector('.dw-field');
        const searchInput = controls.querySelector('.dw-input');
        const clearBtn = controls.querySelector('.dw-clear');
        const statusEl = controls.querySelector('.dw-counter'); // hidden
        const sizeSel = controls.querySelector('#dw-size');
        const prevBtn = controls.querySelector('[data-page="prev"]');
        const nextBtn = controls.querySelector('[data-page="next"]');
        const emptyRow = tb.querySelector('.dw-empty');

        /* record original order for "unsort" */
        Array.from(tb.rows).forEach((r,i)=>{ if(!r.classList.contains('dw-empty')) r.dataset.idx=i; });

        let pageSize = parseInt(sizeSel.value,10) || 10;  // 0 = All
        let page = 1;
        let filter = '';

        /* header shadow while scrolled */
        const onScrollShadow = ()=> scroller.classList.toggle('scrolled', scroller.scrollTop > 0);
        scroller.addEventListener('scroll', onScrollShadow); onScrollShadow();

        /* tri-state sorting */
        const heads = Array.from(table.tHead.rows[0].cells);
        heads.forEach((th,i)=>{
          th.classList.add('sortable'); th.setAttribute('aria-sort','none'); th.dataset.sort='none'; th.tabIndex=0;
          const type = th.dataset.type || 'text';
          const go = ()=> sortBy(i,type,th);
          th.addEventListener('click',go);
          th.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); go(); } });
        });

        function textOf(tr,i){ return (tr.children[i].innerText||'').trim(); }
        function clearSortedClasses(){
          heads.forEach(h=>h.classList.remove('is-sorted'));
          Array.from(tb.rows).forEach(r=>Array.from(r.cells).forEach(c=>c.classList.remove('is-sorted')));
        }
        function markSortedColumn(colIdx){
          heads[colIdx]?.classList.add('is-sorted');
          Array.from(tb.rows).forEach(r=>{ const c=r.cells[colIdx]; if(c) c.classList.add('is-sorted'); });
        }

        function sortBy(colIdx, type, th){
          const rows = Array.from(tb.rows).filter(r=>!r.classList.contains('dw-empty'));
          const current = th.dataset.sort || 'none';
          const next = current==='none' ? 'asc' : current==='asc' ? 'desc' : 'none';

          heads.forEach(h=>{ h.dataset.sort='none'; h.setAttribute('aria-sort','none'); h.classList.remove('is-sorted'); });

          if(next === 'none'){
            rows.sort((a,b)=>(+a.dataset.idx)-(+b.dataset.idx));
            rows.forEach(r=>tb.insertBefore(r, emptyRow));
            clearSortedClasses();
            renderPage();
            return;
          }

          th.dataset.sort = next;
          th.setAttribute('aria-sort', next==='asc'?'ascending':'descending');

          const mul = next==='asc'?1:-1;
          rows.sort((a,b)=>{
            let v1=textOf(a,colIdx), v2=textOf(b,colIdx);
            if((type||'text')==='num'){
              v1=parseFloat(v1.replace(/[^0-9.\-]/g,'')); if(isNaN(v1)) v1=-Infinity;
              v2=parseFloat(v2.replace(/[^0-9.\-]/g,'')); if(isNaN(v2)) v2=-Infinity;
            }else{ v1=(v1+'').toLowerCase(); v2=(v2+'').toLowerCase(); }
            if(v1>v2) return 1*mul; if(v1<v2) return -1*mul; return 0;
          });
          rows.forEach(r=>tb.insertBefore(r, emptyRow));
          clearSortedClasses(); markSortedColumn(colIdx);
          renderPage();
        }

        /* zebra */
        function applyZebra(shown){
          Array.from(tb.rows).forEach(r=>r.classList.remove('dw-zebra'));
          shown.forEach((r,idx)=>{ if(idx % 2 === 0) r.classList.add('dw-zebra'); });
        }

        function matchesFilter(tr){ return !tr.classList.contains('dw-empty') && tr.innerText.toLowerCase().includes(filter); }

        function renderPage(){
          const ordered = Array.from(tb.rows).filter(r=>!r.classList.contains('dw-empty'));
          const visible = ordered.filter(matchesFilter);
          const total = visible.length;

          ordered.forEach(r=>r.style.display='none');
          let shown = [];

          if(total===0){
            if(emptyRow){ emptyRow.style.display='table-row'; emptyRow.firstElementChild.colSpan = heads.length; }
            if(statusEl) statusEl.textContent = "";
            prevBtn.disabled = nextBtn.disabled = true;
          }else{
            if(emptyRow) emptyRow.style.display='none';
            if(pageSize===0){
              shown = visible;
              if(statusEl) statusEl.textContent = "";
              prevBtn.disabled = nextBtn.disabled = true;
            }else{
              const pages = Math.max(1, Math.ceil(total / pageSize));
              page = Math.min(Math.max(1, page), pages);
              const start = (page-1)*pageSize, end = start + pageSize;
              shown = visible.slice(start,end);
              if(statusEl) statusEl.textContent = "";
              prevBtn.disabled = page<=1; nextBtn.disabled = page>=pages;
            }
          }

          shown.forEach(r=>r.style.display='table-row');
          applyZebra(shown);
        }

        /* search + clear */
        const syncClearBtn = ()=> field.classList.toggle('has-value', !!searchInput.value);
        let t=null;
        searchInput.addEventListener('input', e=>{
          syncClearBtn();
          clearTimeout(t);
          t=setTimeout(()=>{ filter=(e.target.value||'').toLowerCase().trim(); page=1; renderPage(); },120);
        });
        clearBtn.addEventListener('click', ()=>{ searchInput.value=''; syncClearBtn(); filter=''; page=1; renderPage(); searchInput.focus(); });
        syncClearBtn();

        /* page size + nav */
        sizeSel.addEventListener('change', e=>{ pageSize = parseInt(e.target.value,10) || 0; page=1; renderPage(); });
        prevBtn.addEventListener('click', ()=>{ page--; renderPage(); });
        nextBtn.addEventListener('click', ()=>{ page++; renderPage(); });

        /* ---------- Config ---------- */
        const LOGO_URL   = "https://i.postimg.cc/kGVJyXc1/VI-logo-final.png"; // CSB logo (mask)
        const BRAND_NAME = "";
        const BRAND_HREF = "";

        // Top logo (not clickable) - set mask CSS var & show wrapper
        const topWrap = root.querySelector('.dw-top-brand');
        const topLogo = root.querySelector('.dw-top-logo');
        if (LOGO_URL){
          topLogo.style.setProperty('--logo-url', `url("${LOGO_URL}")`);
          topWrap.style.display = "flex";
        }
        // Footer brand name (optional)
        const footer = root.querySelector('.dw-footer');
        const brandLeft = root.querySelector('.dw-brand-left');
        if (BRAND_NAME){
          brandLeft.textContent = BRAND_NAME;
          if (BRAND_HREF) brandLeft.href = BRAND_HREF;
          brandLeft.style.display = "inline-block";
        } else {
          footer.style.display = "none";
        }
        /* -------------------------------- */
        renderPage();
      };
      document.querySelectorAll('[data-dw="table"]').forEach(root=>window.DWTableInit(root));
    }
    window.DWTableInit(document.getElementById('dw-lottery-4'));
  })();
  </script>
</div>
</section>
